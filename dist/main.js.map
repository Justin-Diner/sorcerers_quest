{"version":3,"file":"main.js","mappings":"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","sources":["webpack://sorcerers_quest/webpack/bootstrap","webpack://sorcerers_quest/webpack/runtime/define property getters","webpack://sorcerers_quest/webpack/runtime/hasOwnProperty shorthand","webpack://sorcerers_quest/./src/scripts/health_bar.js","webpack://sorcerers_quest/./src/animations/animations.js","webpack://sorcerers_quest/./src/scripts/sorcerer.js","webpack://sorcerers_quest/./src/scripts/fire_arrow.js","webpack://sorcerers_quest/./src/scripts/camera.js","webpack://sorcerers_quest/./src/scripts/dist.js","webpack://sorcerers_quest/./src/scripts/level_indicator.js","webpack://sorcerers_quest/./src/scripts/castle.js","webpack://sorcerers_quest/./src/scripts/levels/level_one.js","webpack://sorcerers_quest/./src/scripts/game.js","webpack://sorcerers_quest/./src/scripts/still_object.js","webpack://sorcerers_quest/./src/scripts/levels/level_two.js","webpack://sorcerers_quest/./src/scripts/levels/level_three.js","webpack://sorcerers_quest/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","export default class HealthBar {\n\tconstructor(options) {\n\tthis.position = options.position\n \tthis.value = options.value;\n\tthis.maxHealth = options.value;\n\tthis.backgroundColor = \"green\";\n\tthis.innerSize = 254;\n\tthis.textPosition = options.textPosition;\n\t}\n\n\tdraw(ctx) {\n\t\tctx.beginPath();\n\t\tctx.rect(this.position.x, this.position.y, 254, 24);\n\t\tctx.fillStyle = \"red\";\n\t\tctx.strokeStyle = \"black\";\n\t\tctx.stroke();\n\t\tctx.fill()\n\t\n\t\t// Inner Rect \n\t\tctx.beginPath();\n\t\tctx.rect(this.position.x, this.position.y, this.innerSize, 24);\n\t\tctx.strokeStyle = \"transparent\";\n\t\tctx.fillStyle = this.backgroundColor;\n\t\tctx.fill()\n\t\n\t\t// Text\n\t\tctx.fillStyle = \"white\";\n\t\tctx.font = \"14px serif\"\n\t\tctx.fillText(`${this.value} / ${this.maxHealth}`, this.textPosition, 30)\n\t\tctx.stroke();\n\t}\n\n\tdecrease() {\n\t\tif (this.value >= 1) {\n\t\tthis.value -= 10;\n\t\tthis.innerSize -= 254 / (this.maxHealth / 10);\n\t\t}\n\t}\n\n}","// Idle Animations \nexport const sorcererRightIdle = new Image();\nsorcererRightIdle.src = './assets/sorcerer/Idle.png';\nexport const sorcererLeftIdle = new Image();\nsorcererLeftIdle.src = './assets/sorcerer/idle_left.png';\n\n// Run Animations\nexport const sorcererRunRight = new Image();\nsorcererRunRight.src = './assets/sorcerer/Run.png';\nexport const sorcererRunLeft = new Image(); \nsorcererRunLeft.src = './assets/sorcerer/sorcerer_run_left.png';\n\n// Jumping Animations\nexport const sorcererJump = new Image();\nsorcererJump.src = './assets/sorcerer/Jump.png';\n\n//Jumping Left \nexport const leftSorcererJump = new Image();\nleftSorcererJump.src = './assets/sorcerer/leftJump.png';\n\n// Casting \nexport const sorcererCast = new Image();\nsorcererCast.src = './assets/sorcerer/Attack1.png';\n\n// Explosion\nexport const explosionOne = new Image();\nexplosionOne.src = './assets/explosion/Explosion1_long.png';\n\nexport const sorcererDeath = new Image();\nsorcererDeath.src = './assets/sorcerer/Death.png';","import HealthBar from \"./health_bar\";\nimport { sorcererRightIdle, sorcererLeftIdle, sorcererRunRight, sorcererRunLeft, sorcererJump, leftSorcererJump, sorcererCast, explosionOne, sorcererDeath } from \"../animations/animations\";\n\nconst SORCERER_WIDTH = 231\nconst SORCERER_HEIGHT = 164\nconst GRAVITY = 0.4;\n\n// Animation Constants \nconst slowDownAnimationRate = 5;\nconst idleFrameSize = 5;\nconst runFrameSize = 7;\nconst jumpingFrameSize = 1;\nconst deathFrameSize = 6;\n\n// Animation Flags and Changing Variables\nlet leftFrames = {}\nlet deathAnimationCount = 0;\n\nlet frame = 0;\nlet gameFrame = 0;\nlet frameSize = 0;\nlet oneLoopFrame = 0;\nlet castLoopCounter = 0;\nlet deathLoopCounter = 0;\nlet explosionLoopCounter = 0;\n\nexport default class Sorcerer {\n\tconstructor(position) {\n\t\tthis.position = position;\n\t\tthis.health = 50;\n\t\tthis.status = \"idle\"\n\t\tthis.direction = \"right\";\n\t\tthis.leftMovementStopped = false; \n\t\tthis.rightMovementStopped = false;\n\t\tthis.velocity = {\n\t\t\tx: 0, \n\t\t\ty: 1\n\t\t}\n\t\tthis.hitbox = {\n\t\t\tposition: {\n\t\t\t\tx: this.position.x, \n\t\t\t\ty: this.position.y\n\t\t\t}, \n\t\t\twidth: 69, \n\t\t\theight: 100\n\t\t}\n\t\tthis.healthBar = new HealthBar({\n\t\t\tposition: { x: 54, y: 14},\n\t\t\tvalue: this.health,\n\t\t\ttextPosition: 160\n\t\t})\n\t}\n\n\thitboxDims() {\n\t\treturn {\n\t\t\ttopLeft: [this.hitbox.position.x, this.hitbox.position.y],\n\t\t\ttopRight: [this.hitbox.position.x + this.hitbox.width, this.hitbox.position.y],\n\t\t\tbottomLeft: [this.hitbox.position.x, this.hitbox.position.y + this.hitbox.height],\n\t\t\tbottomRight: [this.hitbox.position.x + this.hitbox.width, this.hitbox.position.y + this.hitbox.height]\n\t\t}\t\n\t}\n\n\tdraw(ctx) {\n\t\tlet currentAnimation;\n\t\tconst alive = (this.status != \"dead\");\n\t\tconst dead = (this.status === \"dead\");\n\t\tconst facingRight = (this.direction === \"right\");\n\t\tconst facingLeft = (this.direction === \"left\");\n\t\tconst idle = (this.status === \"idle\");\n\t\tconst moving = this.status === \"moving\";\n\t\tconst jumping = this.status === \"jumping\"\n\t\tconst casting = this.status === \"casting\"\n\n\t\t// Choosing Correct Sprite Sheet For All Sorcerer Status's. \n\t\tif (facingRight && idle && alive) {\n\t\t\tcurrentAnimation = sorcererRightIdle;\n\t\t\tframeSize = idleFrameSize;\n\t\t} else if (facingLeft && idle && alive) {\n\t\t\tcurrentAnimation = sorcererLeftIdle;\n\t\t\tframeSize = idleFrameSize;\n\t\t\tleftFrames = {\n\t\t\t\t0: 5, \n\t\t\t\t1: 4, \n\t\t\t\t2: 3,\n\t\t\t\t3: 2, \n\t\t\t\t4: 1, \n\t\t\t\t5: 0 \n\t\t\t}\n\t\t} else if (facingLeft && moving && alive) {\n\t\t\tcurrentAnimation = sorcererRunLeft;\n\t\t\tframeSize = runFrameSize;\n\t\t\tleftFrames = {\n\t\t\t\t0: 7, \n\t\t\t\t1: 6, \n\t\t\t\t2: 5, \n\t\t\t\t3: 4,\n\t\t\t\t4: 3, \n\t\t\t\t5: 2,\n\t\t\t\t6: 1, \n\t\t\t\t7: 0\n\t\t\t}\n\t\t} else if (facingRight && moving && alive) {\n\t\t\tcurrentAnimation = sorcererRunRight;\n\t\t\tframeSize = runFrameSize;\n\t\t} else if (facingRight && jumping && alive) {\n\t\t\tcurrentAnimation = sorcererJump;\n\t\t\tframeSize = jumpingFrameSize;\n\t\t} else if (facingLeft && jumping && alive) {\n\t\t\tcurrentAnimation = leftSorcererJump;\n\t\t\tframeSize = jumpingFrameSize;\n\t\t\tleftFrames = {\n\t\t\t\t0:1, \n\t\t\t\t1:0\n\t\t\t}\n\t\t} else if (facingRight && casting && alive) {\n\t\t\tcurrentAnimation = sorcererCast;\n\t\t\tframeSize = 7;\n\t\t} else if (dead) {\n\t\t\tcurrentAnimation = sorcererDeath;\n\t\t\tframeSize = deathFrameSize;\n\t\t}\n\n\t\t// Animate Correct Image based on Correct Sprite Sheet\n \t\tif (dead) {\n\t\t\tthis.death(ctx, currentAnimation);\n\t\t} else if (casting) {\n\t\t\tthis.oneCast(ctx, currentAnimation);\n\t\t\tthis.explosion(ctx, explosionOne);\n\t\t} else if(facingRight && alive) {\n\t\t\tframe = Math.floor(gameFrame/slowDownAnimationRate) % frameSize;\n\t\t\tctx.drawImage(currentAnimation, frame * SORCERER_WIDTH, 56, SORCERER_WIDTH, SORCERER_HEIGHT, this.position.x, this.position.y, 231, 190)\n\t\t} else if (facingLeft && alive) {\n\t\t\tframe = leftFrames[Math.floor(gameFrame/slowDownAnimationRate) % frameSize];\n\t\t\tctx.drawImage(currentAnimation, frame * SORCERER_WIDTH, 56, SORCERER_WIDTH, SORCERER_HEIGHT, this.position.x, this.position.y, 231, 190)\n\t\t} \n\n\t\t// Gravity \n\t\tthis.update(); \n\t\tthis.updateHitBox();\n\n\t\t//ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n\t\t//ctx.fillRect(this.hitbox.position.x, this.hitbox.position.y, this.hitbox.width, this.hitbox.height)\n\t\tif (gameFrame > 99) {\n\t\t\tgameFrame = 0;\n\t\t}\n\t\tgameFrame++;\n\t}\n\n\tupdate() {\n\t\t// Gravity (continuously adds over time)\n\t\tthis.position.x += this.velocity.x;\n\t\tthis.position.y += this.velocity.y;\n\n\t\t// Ensuring he does not go past bottom of screen\n\t\tif (this.position.y + SORCERER_HEIGHT + this.velocity.y < 576) {\n\t\t\tthis.velocity.y += GRAVITY;\n\t\t} else {\n\t\t\tthis.velocity.y = 0;\n\t\t}\n\t}\n\n\tupdateHitBox() {\n\t\tthis.hitbox = {\n\t\t\tposition: {\n\t\t\t\tx: this.position.x + 81, \n\t\t\t\ty: this.position.y\n\t\t\t}, \n\t\t\twidth: 69, \n\t\t\theight: 100\n\t\t}\n\t}\n\n\tidle() {\n\t\tthis.status = \"idle\";\n\t}\n  \n\t// Velocity \n\tmoveRight() {\n\t\tthis.resetCastingCounters()\n\t\tif (this.position.x >= 600) {\n\t\t\tthis.velocity.x = 0;\n\t\t\tthis.rightMovementStopped = true; \n\t\t} else {\n\t\t\tthis.rightMovementStopped = false; \n\t\t\tthis.velocity.x += 1\n\t\t}\n\n\t\tif (this.status === \"jumping\") {\n\t\t\tthis.status = \"jumping\";\n\t\t\tthis.direction = \"right\";\n\t\t} else if (this.velocity.x != 0 && this.status != \"jumping\"){\n\t\t\tthis.status = \"moving\"\n\t\t\tthis.direction = \"right\"\n\t\t} else {\n\t\t\tthis.direction = \"right\";\n\t\t\tthis.status = \"idle\"\n\t\t}\n\t}\n\n\tmoveLeft() {\n\t\tthis.resetCastingCounters()\n\t\tif (this.position.x < 0) {\n\t\t\tthis.velocity.x = 0\n\t\t\tthis.leftMovementStopped = true; \n\t\t} else {\n\t\t\tthis.leftMovementStopped = false;\n\t\t\tthis.velocity.x += 1\n\t\t}\n\n\t\tif (this.status === \"jumping\") {\n\t\t\tthis.status = \"jumping\";\n\t\t\tthis.direction = \"left\";\n\t\t} else if (this.velocity.x != 0 && this.status != \"jumping\") {\n\t\t\tthis.direction = \"left\";\n\t\t\tthis.status = \"moving\"\n\t\t} else {\n\t\t\tthis.direction = \"left\";\n\t\t\tthis.status = \"idle\"\n\t\t}\n\t}\n\n\tjump() {\n\t\tif (this.status === \"casting\") {\n\t\t\tthis.status === \"casting\"\n\t\t} else {\n\t\t\tthis.status = \"jumping\"\n\t\t}\n\t\tthis.velocity.y = -10\n\n\t\tlet idleCheck = setInterval(() => {\n\t\t\tif (this.status === \"dead\") {\n\t\t\t\tclearInterval(idleCheck);\n\t\t\t\treturn; \n\t\t\t}\n\t\t\tif (this.status === \"jumping\") {\n\t\t\t\tif (this.velocity.y === 0 && this.velocity.x === 0) {\n\t\t\t\t\tthis.status = \"idle\";\n\t\t\t\t\tclearInterval(idleCheck)\n\t\t\t\t} else if (this.velocity.y ===  0 && this.velocity.x != 0) {\n\t\t\t\t\tthis.status = \"moving\";\n\t\t\t\t\tclearInterval(idleCheck);\n\t\t\t\t}\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tcast() {\n\t\tthis.status = \"casting\";\n\t\tthis.direction = \"right\";\n\t\tthis.velocity.x = 0;\n\t}\n\n\tdeath(ctx, image) {\n\t\t//let finalDeathImage = ctx.drawImage(image, 6 * SORCERER_WIDTH, 0, SORCERER_WIDTH, SORCERER_HEIGHT, this.position.x, this.position.y - 64, 240, 190);\n\n\t\tif (deathAnimationCount > 0) {\n\t\t\tctx.drawImage(image, 6 * SORCERER_WIDTH, 0, SORCERER_WIDTH, SORCERER_HEIGHT, this.position.x, this.position.y - 64, 240, 190);\n\t\t\treturn;\n\t\t}\n\n\t\tif (deathLoopCounter <= 42) {\n\t\t\tframe = Math.floor(oneLoopFrame / 7) % (deathFrameSize +1);\n\t\t\tctx.drawImage(image, frame * SORCERER_WIDTH, 0, SORCERER_WIDTH, SORCERER_HEIGHT, this.position.x, this.position.y - 64, 240, 190);\n\t\t\tdeathLoopCounter++;\n\t\t\toneLoopFrame++;\n\t\t} else {\n\t\t\tdeathAnimationCount += 1\n\t\t\tctx.drawImage(image, 6 * SORCERER_WIDTH, 0, SORCERER_WIDTH, SORCERER_HEIGHT, this.position.x, this.position.y - 64, 240, 190);\n\t\t}\n\t}\n\n\toneCast(ctx, image) {\n\t\tlet animationCount = 0;\n\t\n\t\tif (animationCount > 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (castLoopCounter <= 54) {\n\t\t\tframe = Math.floor(oneLoopFrame / 7) % 8;\n\t\t\tctx.drawImage(image, frame * SORCERER_WIDTH, 0, SORCERER_WIDTH, SORCERER_HEIGHT, this.position.x, this.position.y - 64, 240, 190)\n\t\t\tcastLoopCounter++\n\t\t\toneLoopFrame++ \n\t\t} else {\n\t\t\tanimationCount += 1;\n\t\t\tcastLoopCounter = 0;\n\t\t\toneLoopFrame = 0;\n\t\t\tframe = 0;\n\t\t\tthis.idle();\n\t\t}\n\t}\n\n\tresetCastingCounters() {\n\t\toneLoopFrame = 0;\n\t\tcastLoopCounter = 0;\n\t}\n\n\texplosion(ctx, image) {\n\t\tlet animationCount = 0;\n\t\tif (animationCount > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (explosionLoopCounter <= 60) {\n\t\t\tframe = Math.floor(oneLoopFrame / 4) % 16;\n\t\t\tctx.drawImage(image, frame * (image.width / 16), 0, image.width / 14, image.height, 680, 200, 400, 300)\n\t\t\texplosionLoopCounter++\n\t\t} else {\n\t\t\tanimationCount += 1;\n\t\t\tframe = 0;\n\t\t\texplosionLoopCounter = 0;\n\t\t}\n\t}\n}\n\n","import { CANVAS_HEIGHT, CANVAS_WIDTH } from \"..\";\n\n// Base Dimensions of each arrow. \nexport const ARROW_HEIGHT = 70;\nconst ARROW_WIDTH = 76;\nconst RIGHT_ARROW_X_OFFSET = 30;\nconst LEFT_ARROW_X_OFFSET = 17\n\nconst ARROW_FRAME_HEIGHT = 70;\nconst ARROW_FRAME_WIDTH = 100; \nlet currentframe = 0;\nlet animationFrame = 0;\nlet slowDownAnimationRate = 5;\n\nexport const rightPositions = {\n\t1: {x: 900, y: 60},\n\t2: {x: 900, y: (60 + ARROW_HEIGHT) },\n\t3: {x: 900, y: (60 + (2 * ARROW_HEIGHT)) }, \n\t4: {x: 900, y: (60 + (3 * ARROW_HEIGHT)) },\n\t5: {x: 900, y: (60 + (4 * ARROW_HEIGHT)) },\n\t6: {x: 900, y: (60 + (5 * ARROW_HEIGHT)) }\n}\n\n\nexport const leftPositions = {\n\t1: {x: 20, y: 60 },\n\t2: {x: 20, y: (60 + ARROW_HEIGHT) },\n\t3: {x: 20, y: (60 + (2 * ARROW_HEIGHT)) },\n\t4: {x: 20, y: (60 + (3 * ARROW_HEIGHT)) },\n\t5: {x: 20, y: (60 + (4 * ARROW_HEIGHT)) },\n\t6: {x: 20, y: (60 + (5 * ARROW_HEIGHT)) },\n}\n\n\nexport default class FireArrow {\n\tconstructor(options) {\n\t\tthis.image = new Image();\n\t\tthis.image.src = './assets/fire_arrow/fire.png'\n\t\tthis.totalAnimationFrames = 29;\n\t\tthis.position = options.position\n\t\tthis.width = ARROW_WIDTH;\n\t\tthis.height = ARROW_HEIGHT;\n\t\tthis.velocity = {\n\t\t\tx: options.velocity.x, \n\t\t\ty: options.velocity.y\n\t\t}\n\t\tthis.hitbox = {\n\t\t\tposition: {\n\t\t\t\tx: this.position.x, \n\t\t\t\ty: this.position.y\n\t\t\t}, \n\t\t\twidth: 10, \n\t\t\theight: 10\n\t\t}\n\t\tthis.recentlyHit = false; \n\t\tthis.outsideCanvas = false;\n\t\tthis.moving = false; \n\t\tthis.currentDirection = options.currentDirection;\n\t}\n\n\tdraw(ctx) {\n\t\tthis.moving = true;\n\t\tthis.move(); \t\t// Increases the position in accordance with the arrows velocity.\n\t\tthis.outsideCanvasCheck();\n\t\tif (this.currentDirection === \"right\") {\n\t\t\tthis.drawRightArrow(ctx);\n\t\t} else {\n\t\t\tthis.drawLeftArrow(ctx);\n\t\t}\n\t\tthis.updateHitBox();\t//Moves the arrow hitbox as the arrow moves. \n\n\t\t//ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n\t\t//ctx.fillRect(this.hitbox.position.x, this.hitbox.position.y, this.hitbox.width, this.hitbox.height)\n \n\t\tthis.animate(ctx, ARROW_FRAME_WIDTH, ARROW_FRAME_HEIGHT);\n\t}\n\n\tmove() {\n\t\tthis.position.x += this.velocity.x;\n\t\tthis.position.y += this.velocity.y;\n\t}\n\n\tanimate(ctx, width, height) {\n\t\tcurrentframe = Math.floor(animationFrame/slowDownAnimationRate) % this.totalAnimationFrames;\n\t\tctx.drawImage(\n\t\t\tthis.image,\n\t\t\tcurrentframe * width, \n\t\t\t0, \n\t\t\twidth, \n\t\t\theight, \n\t\t\tthis.position.x, \n\t\t\tthis.position.y, \n\t\t\twidth, \n\t\t\theight\n\t\t)\n\t\tanimationFrame++;\n\t}\n\n\treset() {\n\t\tif (this.currentDirection === \"right\") {\n\t\t\tthis.position.x = 10;\n\t\t\tthis.position.y = this.generateRandomNumber(0, 501);\n\t\t\tthis.velocity.x = this.generateRandomNumber(2, 6);\n\t\t\tthis.currentDirection = \"left\";\n\t\t} else {\n\t\t\tthis.position.x = 900;\n\t\t\tthis.position.y = this.generateRandomNumber(0, 500)\n\t\t\tthis.velocity.x = this.generateRandomNumber(2, 6);\n\t\t\tthis.velocity.x = -3;\n\t\t\tthis.currentDirection = \"right\";\n\t\t}\n\t\tthis.position.y = 40; \n\t}\n\n\tupdateHitBox() {\n\t\tif (this.currentDirection === \"right\") {\n\t\t\tthis.hitbox = {\n\t\t\t\tposition: {\n\t\t\t\t\tx: this.position.x + 37, \n\t\t\t\t\ty: this.position.y + 57\n\t\t\t\t}, \n\t\t\t\twidth: 63, \n\t\t\t\theight: 6\n\t\t\t}\n\t\t} else {\n\t\t\tthis.hitbox = {\n\t\t\t\tposition: {\n\t\t\t\t\tx: this.position.x - 6, \n\t\t\t\t\ty: this.position.y + 57\n\t\t\t\t},\n\t\t\t\twidth: 63,\n\t\t\t\theight: 6\n\t\t\t}\n\t\t}\n\t}\n\n\tifHit() {\n\t\tsetTimeout( () => {\n\t\t\tthis.recentlyHit = false\n\t\t\t//this.reset();\n\t\t}, 1500)\n\t}\n\n\tgenerateRandomNumber(max, min) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tdrawLeftArrow(ctx) {\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = '#964B00';\n\t\tctx.lineWidth = 3;\n\t\tctx.moveTo(this.position.x + 50, this.position.y + 60);\n\t\tctx.lineTo(this.position.x -12, this.position.y + 60);\n\t\tctx.stroke();\n\n\t\t// Creates Left facing arrow end\n\t\tctx.beginPath();\n\t\tctx.fillStyle = \"#5A5A5A\"\n\t\tctx.moveTo(this.position.x, this.position.y + 60);\n\t\tctx.lineTo(this.position.x - 12, this.position.y + 60 + 4);\n\t\tctx.lineTo(this.position.x - 12, this.position.y + 60 - 4);\n\t\tctx.fill();\n\t}\n\n\tdrawRightArrow(ctx) {\n\t\t// Creates Right facing Arrow Shaft\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = '#964B00';\n\t\tctx.lineWidth = 3;\n\t\tctx.moveTo(this.position.x + 50, this.position.y + 60);\n\t\tctx.lineTo(this.position.x + 100, this.position.y + 60);\n\t\tctx.stroke();\n\n\t\t// Creates Right facing arrow end\n\t\tctx.beginPath();\n\t\tctx.fillStyle = \"#5A5A5A\"\n\t\tctx.moveTo(this.position.x + 96, this.position.y + 60);\n\t\tctx.lineTo(this.position.x + 97 + 5, this.position.y + 60 + 4);\n\t\tctx.lineTo(this.position.x + 97 + 5, this.position.y + 60 - 4);\n\t\tctx.fill();\n\t}\n\n\toutsideCanvasCheck() {\n\t\tif (this.currentDirection === \"right\" && this.moving) {\n\t\t\tif (this.position.x < (0 -(RIGHT_ARROW_X_OFFSET + ARROW_WIDTH))) {\n\t\t\t\tthis.outsideCanvas = true; \n\t\t\t\tthis.velocity.x = 0;\n\t\t\t\tthis.moving = false; \n\t\t\t}\n\t\t} \n\t\t\tif (this.currentDirection === \"left\" && this.moving) {\n\t\t\t\tif (this.position.x > CANVAS_WIDTH + LEFT_ARROW_X_OFFSET) {\n\t\t\t\t\tthis.outsideCanvas = true;\n\t\t\t\t\tthis.velocity.x = 0;\n\t\t\t\t\tthis.moving = false; \n\t\t\t\t}\n\t\t\t}\n\t\tif (this.position.y > (CANVAS_HEIGHT + 1)) {\n\t\t\tthis.outsideCanvas = true; \n\t\t\tthis.velocity.y = 0;\n\t\t\tthis.moving = false; \n\t\t} \n\t}\n}\n","export default class Camera {\n\tconstructor(obj) {\n\t\tthis.position = obj.position\n\t}\n}","import FireArrow from \"./fire_arrow\";\nimport { rightPositions, leftPositions } from \"./fire_arrow\";\n\nexport const utilities = {\n\trandomShootingPosition() {\n\t\tconst choices = [\"right\", \"left\"]\n\t\tlet arrowDirection = choices[Math.floor(Math.random() * choices.length)]; \n\t\tlet xPosition;\n\t\tlet yPosition;\n\n\t\tif (arrowDirection === \"right\") {\n\t\t\txPosition = rightPositions[1].x;\n\t\t\tyPosition = rightPositions[1].y;\n\t\t} else {\n\t\t\txPosition = leftPositions[1].x\n\t\t\tyPosition = leftPositions[1].y\n\t\t}\n\n\t\tlet velocity = {\n\t\t\tx: 0, \n\t\t\ty: 4\n\t\t}; \n\t\n\t\tif (arrowDirection === \"left\") {\n\t\t\tvelocity.x = 5;\n\t\t} else {\n\t\t\tvelocity.x = -5;\n\t\t}\n\t\n\t\treturn new FireArrow({\n\t\t\tposition: {x: xPosition, y: yPosition},\n\t\t\tcurrentDirection: arrowDirection,\n\t\t\tvelocity: {\n\t\t\t\tx: velocity.x, \n\t\t\t\ty: velocity.y\n\t\t\t}\n\t\t})\n\t},\n\t  // Normalize the length of the vector to 1, maintaining direction.\n\t  dir(vec) {\n\t\t\tconst norm = Util.norm(vec);\n\t\t\treturn Util.scale(vec, 1 / norm);\n\t  },\n\t  // Find distance between two points.\n\t  dist(pos1, pos2) {\n\t\t\treturn Math.sqrt(\n\t\t\t\tMath.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n\t\t\t);\n\t  },\n\t  // Find the length of the vector.\n\t  norm(vec) {\n\t\t\treturn Util.dist([0, 0], vec);\n\t  },\n\t  // Return a randomly oriented vector with the given length.\n\t  randomVec(length) {\n\t\t\tconst deg = 2 * Math.PI * Math.random();\n\t\t\treturn Util.scale([Math.sin(deg), Math.cos(deg)], length);\n\t  },\n}\n\nexport default utilities;","export default class LevelIndicator {\n\tconstructor(level) {\n\t\tthis.level = level\n\t}\n\n\tdraw(ctx) {\n\t\tctx.font = \"bold 36px serif\"\n\t\tctx.fillStyle = \"white\";\n\t\tctx.fillText(`Level: ${this.level} / 3`, 422, 39)\n\t\tctx.stroke();\n\t}\n}","import HealthBar from \"./health_bar\";\n\nconst castleImg = new Image();\ncastleImg.src = './assets/castle/castle.png'\n\nexport default class Castle {\n\tconstructor(options){\n\t\tthis.position = {x: 680, y: 480}\n\t\tthis.width = 400;\n\t\tthis.height =  600; \n\t\tthis.health = options.health; \n\t\tthis.healthbar = new HealthBar({position: {\n\t\t\tx: 700, \n\t\t\ty: 14\n\t\t},\n\t\tvalue: options.health,\n\t\ttextPosition: 805})\n\t}\n\n\tdraw(ctx) {\n\t\tctx.drawImage(castleImg, this.position.x, 0, this.width, this.height)\n\t}\n\n\tdrawHealthBar(ctx) {\n\t\tthis.healthbar.draw(ctx);\n\t}\n}","import { rightPositions } from \"../fire_arrow\";\nimport FireArrow from \"../fire_arrow\";\nimport Castle from \"../castle\";\n\nexport class LevelOne {\n\tconstructor() {\n\t\tthis.level = 1;\n\t\tthis.levelArrows = [];\n\t\tthis.castle = new Castle({health: 20})\n\t}\n\n\tgenerateArrows() {\n\t\tfor (let i = 6; i > 5; i--) {\n\t\t\tthis.levelArrows.push(\n\t\t\t\tnew FireArrow({\n\t\t\t\t\tposition: {x: rightPositions[i].x, y: rightPositions[i].y},\n\t\t\t\t\tcurrentDirection: \"right\",\n\t\t\t\t\tvelocity: {\n\t\t\t\t\t\tx: -10, \n\t\t\t\t\t\ty: 0\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n}\n\n\nexport default LevelOne;","import StillObject from './still_object'\nimport FireArrow from './fire_arrow';\nimport Camera from './camera'\nimport utilities from './dist';\nimport LevelIndicator from './level_indicator';\nimport LevelOne from './levels/level_one';\nimport LevelTwo from './levels/level_two';\nimport LevelThree from './levels/level_three';\nimport Castle from './castle';\n\nconst losingModal = document.getElementById(\"losing-modal\");\nconst backgroundImage = new StillObject({\n\tposition : { x: 0, y: 0 },\n\timageSrc: './assets/forrestbackground/forrestbackground.jpg'}\n);\n\nconst acceptableKeys = {\n\td: { pressed: false },\n\ta: { pressed: false }, \n\tspace: { pressed: false }, \n\tc: { pressed: false }\n}\n\nexport default class Game {\n\tconstructor(sorcerer, castle) {\n\t\tthis.sorcerer = sorcerer;\n\t\tthis.castle = castle;\n\t\tthis.gameStarted = true;\n\t\tthis.levelStarted = false;\n\t\tthis.inGameArrows = [];\n\t\tthis.lastFiredRightArrowIndex = 0;\n\t\tthis.lastFiredLeftArrowIndex = 0;\n\t\tthis.currentLevelNumber = 1;\n\t\tthis.level;\n\t\tthis.newlyGeneratedArrows = [];\n\n\t\tthis.endGame = false;\n\t\tthis.levelThreeSecondWaveSpawned = false;\n\t\tthis.levelTreeThirdWaveSpawned = false;\n\t\tthis.cLocked = false;\n\t\tthis.playerDied = false; \n\n\t\tthis.camera = new Camera({\n\t\t\tposition: {\n\t\t\t\tx: 320, \n\t\t\t\ty: this.sorcerer.position.y\n\t\t\t}}\n\t\t);\n\t\n\t\tthis.levelIndicator = new LevelIndicator(1);\n\n\t\tif (this.currentLevelNumber === 1) {\n\t\t\tthis.level = new LevelOne();\n\t\t\tthis.level.generateArrows();\n\t\t\tthis.inGameArrows = this.level.levelArrows;\n\t\t\tthis.levelStarted = true;\n\t\t}\n\n\t\twindow.addEventListener(\"keydown\", (e) => {\n\t\t\tif (e.key === \"d\") {\n\t\t\t\tacceptableKeys.d.pressed = true; \n\t\t\t\tsorcerer.moveRight();\n\t\t\t} else if (e.key === \"a\") {\n\t\t\t\tacceptableKeys.a.pressed = true; \n\t\t\t\tsorcerer.moveLeft();\n\t\t\t} else if (e.key === \" \") {\n\t\t\t\tacceptableKeys.space.pressed = true; \n\t\t\t\tsorcerer.jump();\n\t\t\t} else if (e.key === \"c\" && !this.cLocked) {\n\t\t\t\tacceptableKeys.c.pressed = true;\n\t\t\t\tthis.lockC();\n\t\t\t\tsorcerer.cast();\n\t\t\t\tthis.castle.health -=10\n\t\t\t\tthis.castle.healthbar.decrease();\n\t\t\t}\n\t\t})\n\n\t\twindow.addEventListener(\"keyup\", (e) => {\n\t\t\tif (e.key === \"d\") {\n\t\t\t\tacceptableKeys.d.pressed = false; \n\t\t\t\tthis.sorcerer.velocity.x = 0\n\t\t\t\tif (this.sorcerer.velocity.x === 0 && this.sorcerer.status != \"jumping\") {\n\t\t\t\t\tthis.sorcerer.status = \"idle\";\n\t\t\t\t}\n\t\t\t} else if (e.key === \"a\") {\n\t\t\t\tacceptableKeys.a.pressed = false; \n\t\t\t\tthis.sorcerer.velocity.x = 0\n\t\t\t\tif (this.sorcerer.velocity.x === 0 && this.sorcerer.status != \"jumping\") {\n\t\t\t\t\tthis.sorcerer.status = \"idle\";\n\t\t\t\t}\n\t\t\t} else if (e.key === \" \") {\n\t\t\t\tacceptableKeys.space.pressed = false; \n\t\t\t} else if (e.key === \"c\" && !this.cLocked) {\n\t\t\t\tacceptableKeys.c.pressed = false;\n\t\t\t}\n\t\t})\n\n\t\twindow.addEventListener('keydown', function(e) {\n\t\t\tif(e.key == \" \" && e.target == document.body) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\t}\n\n\tanimate(ctx) {\n\t\tif (this.isGameOver(ctx)) {\n\t\t\treturn true;\n\t\t}\n\t\tconsole.log(this.sorcerer.position.x)\n\t\t// Background (scaled to bottom left)\n\t\tctx.save(); // Saving context. Pushes current stack onto state. image is 688 x 432\n\t\tbackgroundImage.draw(ctx);\n\t\tctx.restore();\n\n\t\tthis.drawLevelIndicator(ctx);\n\t\tthis.drawCastleSorcererAndHealthBars(ctx);\n\t\tif (this.levelStarted === true) {\n\t\t\tthis.beginCurrentLevel(ctx)\n\t\t}\n\t\tif (this.sorcerer.status != \"dead\") {\n\t\t\tthis.checkIdleStatus();\n\t\t}\n\n\t\t// Collision Detection\n\t\tthis.isCollided(ctx);\n\n\t\t// Initial Socerer Velocity  \n\t\tthis.sorcerer.velocity.x = 0;\n\t\t// Increase velocity based on what's pressed\n\t\tif (acceptableKeys.d.pressed && !this.sorcerer.rightMovementStopped) {\n\t\t\tthis.sorcerer.velocity.x = 5;\n\t\t} else if (acceptableKeys.a.pressed && !this.sorcerer.leftMovementStopped) {\n\t\t\tthis.sorcerer.velocity.x = -5\n\t\t}\n\n\t\t// Level Progression or Victory Checks\n\t\tif (this.currentLevelNumber === 1 || this.currentLevelNumber === 2) {\n\t\t\tthis.beatLevel();\n\t\t}\n\n\t\tif (this.currentLevelNumber === 3 && !this.levelStarted) {\n\t\t\tthis.levelStarted = true;\n\t\t\tthis.level.generateArrows();\n\t\t}\n\n\t\tif (this.currentLevelNumber === 3) {\n\t\t\tif (this.isVictory()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\tdrawLevelIndicator(ctx) {\n\t\tif (this.currentLevelNumber === 1) {\n\t\t\tthis.levelIndicator.draw(ctx);\n\t\t} else if (this.currentLevelNumber === 2) {\n\t\t\tthis.levelIndicator = new LevelIndicator(2);\n\t\t\tthis.levelIndicator.draw(ctx)\n\t\t} else {\n\t\t\tthis.levelIndicator = new LevelIndicator(3);\n\t\t\tthis.levelIndicator.draw(ctx);\n\t\t}\n\t}\n\t\n\n\tdrawCastleSorcererAndHealthBars(ctx) {\n\t\t// Drawing Socerer, Castle, and Healthbars\n\t\t// Sorcerer must be drawn 2nd for spell animation to be in front of castle. \n\t\tthis.castle.draw(ctx);\n\t\tthis.castle.healthbar.draw(ctx);\n\t\tthis.sorcerer.draw(ctx);\n\t\tthis.sorcerer.healthBar.draw(ctx);\n\t}\n\n\tbeginCurrentLevel(ctx) {\n\t\tif (this.sorcerer.status === \"dead\") {\n\t\t\treturn;\n\t\t}\n\t\tif (this.currentLevelNumber === 1) {\n\t\t\tthis.playLevelOne(ctx);\n\t\t}\n\n\t\tif (this.currentLevelNumber === 2) {\n\t\t\tthis.playLevelTwo(ctx);\n\t\t}\n\n\t\tif (this.currentLevelNumber === 3) {\n\t\t\tthis.playLevelThree(ctx);\n\t\t}\n\t}\n\n\tplayLevelOne(ctx) {\n\t\tconst currentArrow = this.inGameArrows[this.lastFiredRightArrowIndex];\n\t\tcurrentArrow.draw(ctx);\n\t\tif (!currentArrow.moving) {\n\t\t\tthis.lastFiredRightArrowIndex++;\n\t\t}\n\t\tif (this.lastFiredRightArrowIndex >= this.inGameArrows.length) {\n\t\t\tthis.level.generateArrows();\n\t\t\tthis.inGameArrows = this.level.levelArrows;\n\t\t\tthis.lastFiredRightArrowIndex = 0;\n\t\t}\n\t}\n\n\tplayLevelTwo(ctx) {\n\t\tlet allPossibleArrows = this.level.levelArrows;\n\n\t\tif (!this.inGameArrows.length) {\n\t\t\tthis.inGameArrows.push(allPossibleArrows[0][this.lastFiredRightArrowIndex]);\n\t\t\tthis.inGameArrows.push(allPossibleArrows[1][this.lastFiredLeftArrowIndex]);\n\t\t}\n\n\t\tfor (let i = 0; i < this.inGameArrows.length; i++) {\n\t\t\tthis.inGameArrows[i].draw(ctx);\n\t\t}\n\n\t\tif (!this.inGameArrows[0].moving) {\n\t\t\tthis.lastFiredRightArrowIndex++;\n\t\t\tif (this.lastFiredRightArrowIndex >= allPossibleArrows[0].length) {\n\t\t\t\tthis.level.clearLevelArrows();\n\t\t\t\tthis.level.generateArrows();\n\t\t\t\tallPossibleArrows = this.level.levelArrows\n\t\t\t\tthis.lastFiredRightArrowIndex = 0;\n\t\t\t}\t\n\t\t\tthis.inGameArrows.push(allPossibleArrows[0][this.lastFiredRightArrowIndex])\n\t\t\tthis.inGameArrows.shift();\n\t\t}\n\n\t\tif (!this.inGameArrows[1].moving) {\n\t\t\tthis.lastFiredLeftArrowIndex++;\n\t\t\tif (this.lastFiredLeftArrowIndex >= allPossibleArrows[1].length) {\n\t\t\t\tthis.level.clearLevelArrows();\n\t\t\t\tthis.level.generateArrows();\n\t\t\t\tallPossibleArrows = this.level.levelArrows\n\t\t\t\tthis.lastFiredLeftArrowIndex = 0;\n\t\t\t}\n\t\t\tthis.inGameArrows.push(allPossibleArrows[1][this.lastFiredLeftArrowIndex])\n\t\t\tthis.inGameArrows.shift();\n\t\t}\t\n\t}\n\n\tplayLevelThree(ctx) {\n\t\tconst allPossibleArrows = this.level.levelArrows;\n\t\t\n\t\tif (this.inGameArrows.length > 6) {\n\t\t\tthis.inGameArrows.splice(6)\n\t\t}\n\n\t\tif (this.newlyGeneratedArrows.length > 6) {\n\t\t\tthis.newlyGeneratedArrows.splice(6);\n\t\t}\n\n\t\tif (!this.inGameArrows.length) {\n\t\t\tthis.inGameArrows.push(allPossibleArrows[0][0]);\n\t\t\tthis.inGameArrows.push(allPossibleArrows[1][0]);\n\t\t}\n\n\t\tthis.inGameArrows[0].draw(ctx);\n\t\tthis.inGameArrows[1].draw(ctx);\n\n\t\tif (!this.inGameArrows[0].moving) {\n\t\t\tthis.inGameArrows[0].position.x = 900;\n\t\t\tthis.inGameArrows[0].moving = true;\n\t\t\tthis.inGameArrows[0].outSideCanvas = false;\n\t\t\tthis.inGameArrows[0].velocity.x = -10;\n\t\t\tthis.inGameArrows[0].draw(ctx);\n\t\t}\n\n\t\tif (!this.inGameArrows[1].moving) {\n\t\t\tthis.inGameArrows[1].position.x = 20;\n\t\t\tthis.inGameArrows[1].moving = true;\n\t\t\tthis.inGameArrows[1].outSideCanvas = false;\n\t\t\tthis.inGameArrows[1].velocity.x = 10;\n\t\t\tthis.inGameArrows[1].draw(ctx);\n\t\t}\n\n\t\tif (!this.levelThreeSecondWaveSpawned) {\n\t\t\tthis.levelThreeSecondWaveSpawned = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.inGameArrows.push(allPossibleArrows[0][5]);\n\t\t\t\tthis.inGameArrows.push(allPossibleArrows[1][5]);\n\t\t\t}, 1000)\n\t\t}\n\n\t\tif (this.inGameArrows[2]) {\n\t\t\tif (!this.inGameArrows[2].moving) {\n\t\t\t\tthis.inGameArrows[2].position.x = 900;\n\t\t\t\tthis.inGameArrows[2].moving = true;\n\t\t\t\tthis.inGameArrows[2].outSideCanvas = false;\n\t\t\t\tthis.inGameArrows[2].velocity.x = -10;\n\t\t\t\tthis.inGameArrows[2].draw(ctx);\n\t\t\t}\n\n\t\t\tthis.inGameArrows[2].draw(ctx);\n\t\t}\n\t\tif (this.inGameArrows[3]) {\n\t\tif (!this.inGameArrows[3].moving) {\n\t\t\tthis.inGameArrows[3].position.x = 20;\n\t\t\tthis.inGameArrows[3].moving = true;\n\t\t\tthis.inGameArrows[3].outSideCanvas = false;\n\t\t\tthis.inGameArrows[3].velocity.x = 10;\n\t\t\tthis.inGameArrows[3].draw(ctx);\n\t\t}\n\t\t\tthis.inGameArrows[3].draw(ctx);\n\t\t}\n\n\t\tif (!this.levelTreeThirdWaveSpawned) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.levelTreeThirdWaveSpawned = true;\n\t\t\t\tthis.inGameArrows.push(allPossibleArrows[0][2]);\n\t\t\t\tthis.inGameArrows.push(allPossibleArrows[1][2]);\n\t\t\t}, 2500)\n\t\t}\n\n\t\tif (this.inGameArrows[4]) {\n\t\t\tif (!this.inGameArrows[4].moving) {\n\t\t\t\tthis.inGameArrows[4].position.x = 900;\n\t\t\t\tthis.inGameArrows[4].moving = true;\n\t\t\t\tthis.inGameArrows[4].outSideCanvas = false;\n\t\t\t\tthis.inGameArrows[4].velocity.x = -10;\n\t\t\t\tthis.inGameArrows[4].draw(ctx);\n\t\t\t}\n\n\t\t\tthis.inGameArrows[4].draw(ctx);\n\t\t}\n\t\tif (this.inGameArrows[5]) {\n\t\tif (!this.inGameArrows[5].moving) {\n\t\t\tthis.inGameArrows[5].position.x = 20;\n\t\t\tthis.inGameArrows[5].moving = true;\n\t\t\tthis.inGameArrows[5].outSideCanvas = false;\n\t\t\tthis.inGameArrows[5].velocity.x = 10;\n\t\t\tthis.inGameArrows[5].draw(ctx);\n\t\t}\n\t\t\tthis.inGameArrows[5].draw(ctx);\n\t\t}\n\n\t\tif (this.newlyGeneratedArrows.length) {\n\t\t\tfor (let i = 0; i < this.newlyGeneratedArrows.length; i++){\n\t\t\t\tthis.newlyGeneratedArrows[i].draw(ctx);\n\t\t\t}\n\t\t}\n\t}\n\n\tisCollided() {\n\t\tif (this.deathCheck()) {\n\t\t\treturn true; \n\t\t}\n\n\t\tconst sorcererHitBox = this.sorcerer.hitboxDims();\n\t\tconst topLeft = sorcererHitBox.topLeft;\n\t\tconst topRight = sorcererHitBox.topRight;\n\t\tconst bottomRight = sorcererHitBox.bottomRight;\n\n\t\tfor (let i = 0; i < this.inGameArrows.length; i++) { \n\t\t\tif (!this.inGameArrows[i].recentlyHit && this.inGameArrows[i].moving) {\n\t\t\t\tconst arrowPosX = this.inGameArrows[i].hitbox.position.x;\n\t\t\t\tconst arrowPosY = this.inGameArrows[i].hitbox.position.y\n\n\t\t\t\tif (\n\t\t\t\t\t(arrowPosX > topLeft[0] && \n\t\t\t\t\tarrowPosX < topRight[0]) &&\n\t\t\t\t\t(arrowPosY < bottomRight[1] && \n\t\t\t\t\t\tarrowPosY > topRight[1])\n\t\t\t\t) {\n\t\t\t\t\t\tthis.stopArrowInGameArrowDamage(i);\n\t\t\t\t\t\tthis.inGameArrows[i].ifHit();\n\t\t\t\t\t\tthis.sorcerer.health -= 10;\n\t\t\t\t\t\tthis.sorcerer.healthBar.decrease();\n\t\t\t\t\t\tthis.newlyGeneratedArrows.push(utilities.randomShootingPosition());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.newlyGeneratedArrows.length) {\n\t\t\tfor (let i = 0; i < this.newlyGeneratedArrows.length; i++) { \n\t\t\t\tif (!this.newlyGeneratedArrows[i].recentlyHit && this.newlyGeneratedArrows[i].moving) {\n\t\t\t\t\tconst arrowPosX = this.newlyGeneratedArrows[i].hitbox.position.x;\n\t\t\t\t\tconst arrowPosY = this.newlyGeneratedArrows[i].hitbox.position.y\n\t\n\t\t\t\t\tif (\n\t\t\t\t\t\t(arrowPosX > topLeft[0] && \n\t\t\t\t\t\tarrowPosX < topRight[0]) &&\n\t\t\t\t\t\t(arrowPosY < bottomRight[1] && \n\t\t\t\t\t\t\tarrowPosY > topRight[1])\n\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.stopNewlyGeneratedArrowDamage(i) ;\n\t\t\t\t\t\t\tthis.newlyGeneratedArrows[i].ifHit();\n\t\t\t\t\t\t\tthis.sorcerer.health -= 10;\n\t\t\t\t\t\t\tthis.sorcerer.healthBar.decrease();\n\t\t\t\t\t\t\tthis.newlyGeneratedArrows.push(utilities.randomShootingPosition());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Helper for OutOfBounds Boolean\n\tisOutOfBounds(pos) {\n\t\tlet xPos = pos[0]\n\t\tlet yPos = pos[1]\n\t\treturn (xPos < 0) || (xPos > 1024) || (yPos > 576)\n\t}\n\n\tstopArrowInGameArrowDamage(i) {\n\t\t\tthis.inGameArrows[i].recentlyHit = true; \n\t\t\t// Check this line once complete. \n\t\t\tthis.inGameArrows.slice(i, 1)\n\t}\n\n\tstopNewlyGeneratedArrowDamage(i) {\n\t\tthis.newlyGeneratedArrows[i].recentlyHit = true; \n\t\t// Check this line once complete. \n\t\tthis.newlyGeneratedArrows.slice(i, 1)\n\t}\n\n\tisGameOver() {\t\n\t\tif (this.endGame) {\n\t\t\treturn true;\n\t\t};\n\n\t\tif (this.sorcerer.health < 1 && !this.playerDied) {\n\t\t\tthis.sorcerer.status = \"dead\";\n\t\t\tthis.playerDied = true;\n\t\t\tthis.gameStarted = false;\n\t\t\tthis.levelStarted = false;\n\t\t\tthis.cLocked = true; \n\n\t\t\tconst ending = setTimeout(() => {\n\t\t\t\tlosingModal.style.display = \"flex\";\n\t\t\t\tthis.endGame = true;\n\t\t\t\tclearTimeout(ending)\n\t\t\t}, 1000)\n\t\t}\n\t}\n\n\tisVictory() {\n\t\tif (this.endGame) {\n\t\t\treturn true; \n\t\t}\n\n\t\tif (this.currentLevelNumber === 3 && this.castle.health < 1) {\n\t\t\tlet winningModal = document.getElementById(\"winning-modal\")\n\t\t\tconst wonGame = setTimeout(() => {\n\t\t\twinningModal.style.display = \"flex\";\n\t\t\tthis.endGame = true; \n\t\t\tthis.cLocked = true; \n\t\t\tclearTimeout(wonGame);\n\t\t\t}, 500)\n\t\t}\n\t}\n\n\tbeatLevel() {\n\t\tif (this.castle.health < 1) {\n\t\t\tthis.levelStarted = false;\n\t\t\tif (this.currentLevelNumber === 1) {\n\t\t\t\tthis.castle = new Castle({health: 10})\n\t\t\t\tthis.resetForNewLevel();\n\t\t\t\tconst levelTwoModal = document.getElementById(\"level_two_start_modal\");\n\t\t\t\tconst levelTwoStartButton = document.getElementById(\"level_two_start_button\");\n\t\t\t\tlevelTwoStartButton.addEventListener('click', () => {\n\t\t\t\t\tlevelTwoModal.style.display = \"none\";\n\t\t\t\t\tthis.startLevelTwo();\n\t\t\t\t})\n\t\t\t\tlevelTwoModal.style.display = \"flex\";\n\t\t\t}\n\n\t\t\tif (this.currentLevelNumber === 2) {\n\t\t\t\tthis.castle = new Castle({health: 100});\n\t\t\t\tthis.resetForNewLevel();\n\t\t\t\tconst levelThreeModal = document.getElementById(\"level_three_start_modal\")\n\t\t\t\tconst levelThreeStartButton = document.getElementById(\"level_three_start_button\");\n\t\t\t\tlevelThreeStartButton.addEventListener('click', () => {\n\t\t\t\t\tlevelThreeModal.style.display = \"none\";\n\t\t\t\t\tthis.startLevelThree();\n\t\t\t\t})\n\t\t\t\tlevelThreeModal.style.display = \"flex\";\n\t\t\t}\n\t\t}\n\t}\n\n\tresetForNewLevel() {\n\t\tif (this.levelStarted === false) {\n\t\t\tthis.inGameArrows = [];\n\t\t\tthis.lastFiredLeftArrowIndex = 0;\n\t\t\tthis.lastFiredRightArrowIndex = 0;\n\t\t}\n\t}\n\n\tstartLevelTwo() {\n\t\tthis.currentLevelNumber = 2;\n\t\tthis.level = new LevelTwo();\n\t\tthis.level.generateArrows();\n\t\tthis.inGameArrows = [this.level.levelArrows[0][0], this.level.levelArrows[1][0]]\n\t\tthis.castle = this.level.castle;\n\t\tthis.levelStarted = true;\n\t}\n\n\tstartLevelThree() {\n\t\tthis.currentLevelNumber = 3;\n\t\tthis.level = new LevelThree();\n\t\tthis.level.generateArrows();\n\t\tthis.inGameArrows = [this.level.levelArrows[0][0], this.level.levelArrows[1][0]]\n\t\tthis.castle = this.level.castle;\n\t\tthis.levelStarted = true; \n\t}\n\n\tlockC() {\n\t\tif (!this.cLocked) {\n\t\t\tthis.cLocked = true; \n\t\t\tconst cLock = setTimeout(() => {\n\t\t\t\tthis.unlockC();\n\t\t\t\tclearInterval(cLock);\n\t\t\t}, 3000);\n\t\t} \n\t}\n\n\tunlockC() {\n\t\tthis.cLocked = false;\n\t}\n\n\tcheckIdleStatus() {\n\t\tconst noKeysPressed = Object.values(acceptableKeys).every(key => !key.pressed)\n\t\tif (noKeysPressed && (this.sorcerer.status != \"jumping\") && this.sorcerer.velocity.x != 0) {\n\t\t\tif (acceptableKeys.d.pressed || acceptableKeys.a.pressed) {\n\t\t\t\tthis.sorcerer.status = \"moving\"\n\t\t\t} else if (this.sorcerer.status != \"jumping\" || this.sorcerer.status != \"dead\") {\n\t\t\tthis.sorcerer.status = \"idle\";\n\t\t\t}\n\t\t}\n\t}\n\n\tdeathCheck() {\n\t\tif (this.sorcerer.status === \"dead\") {\n\t\t\treturn true\n\t\t}\n\t}\n}\n\n","export default class StillObject {\n\tconstructor(object) {\n\t\tthis.position = object.position;\n\t\tthis.image = new Image();\n\t\tthis.image.src = object.imageSrc;\n\t}\n\n\tdraw(ctx) {\n\t\tif (!this.image) return;\n\t\t\n\t\tctx.drawImage(this.image, this.position.x, this.position.y)\n\t}\n\n}","import { rightPositions, leftPositions } from \"../fire_arrow\";\nimport FireArrow from \"../fire_arrow\";\nimport Castle from \"../castle\";\n\nexport class LevelTwo {\n\tconstructor() {\n\t\tthis.level = 2;\n\t\tthis.levelArrows = [[], []];\n\t\tthis.castle = new Castle({health: 50})\n\t}\n\n\tclearLevelArrows() {\n\t\tthis.levelArrows = [[], []];\n\t}\n\n\tgenerateArrows() {\n\t\tfor (let i = 6; i > 0; i--) {\n\t\t\tthis.levelArrows[0].push(\n\t\t\t\tnew FireArrow({\n\t\t\t\t\tposition: {x: rightPositions[i].x, y: rightPositions[i].y},\n\t\t\t\t\tcurrentDirection: \"right\",\n\t\t\t\t\tvelocity: {\n\t\t\t\t\t\tx: -10,\n\t\t\t\t\t\ty: 0\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t\tthis.levelArrows[1].push(\n\t\t\t\tnew FireArrow({\n\t\t\t\t\tposition: {x:leftPositions[i].x, y: leftPositions[i].y},\n\t\t\t\t\tcurrentDirection: \"left\",\n\t\t\t\t\tvelocity: {\n\t\t\t\t\t\tx: 10,\n\t\t\t\t\t\ty: 0\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n}\n\nexport default LevelTwo","import { rightPositions, leftPositions } from \"../fire_arrow\";\nimport FireArrow from \"../fire_arrow\";\nimport Castle from \"../castle\";\n\nexport class LevelThree {\n\tconstructor(sorcerer) {\n\t\tthis.level = 3;\n\t\tthis.levelArrows = [[], []];\n\t\tthis.sorcerer = sorcerer;\n\t\tthis.castle = new Castle ({health: 100})\n\t}\n\n\tgenerateArrows() {\n\t\tfor (let i = 6; i > 0; i--) {\n\t\t\tthis.levelArrows[0].push(\n\t\t\t\tnew FireArrow({\n\t\t\t\t\tposition: {x: rightPositions[i].x, y: rightPositions[i].y},\n\t\t\t\t\tcurrentDirection: \"right\",\n\t\t\t\t\tvelocity: {\n\t\t\t\t\t\tx: -10,\n\t\t\t\t\t\ty: 0\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t\tthis.levelArrows[1].push(\n\t\t\t\tnew FireArrow({\n\t\t\t\t\tposition: {x:leftPositions[i].x, y: leftPositions[i].y},\n\t\t\t\t\tcurrentDirection: \"left\",\n\t\t\t\t\tvelocity: {\n\t\t\t\t\t\tx: 10,\n\t\t\t\t\t\ty: 0\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n}\n\nexport default LevelThree","import Sorcerer from './scripts/sorcerer';\nimport Game from './scripts/game';\nimport LevelOne from './scripts/levels/level_one';\n\nexport const CANVAS_HEIGHT = 576;\nexport const CANVAS_WIDTH = 1024;\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\tconst canvas = document.getElementById(\"canvas\");\n\tconst ctx = canvas.getContext(\"2d\");\n\tcanvas.height = CANVAS_HEIGHT; \n\tcanvas.width = CANVAS_WIDTH; \n\tctx.fillStyle = \"gray\"; \n\tctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n\t// Modals and Buttons \n\tconst allModals = document.getElementsByClassName('modal');\n\tconst startingModal = document.getElementById('starting-modal');\n\tconst startGameButton = document.getElementById(\"start_game_button\");\n\tconst replayButton = document.getElementById(\"replay_button\");\n\tconst losingButton = document.getElementById(\"losing_button\");\n\n\tcloseAllModals(allModals)\n\n\t// Main game, initial sorcerer, and initial castle variables. These reset on replay.\n\tlet gameStarted = false;\n\tlet levelOne = new LevelOne();\n\tlet sorcerer = new Sorcerer({x: 180, y: 280});\n\tlet game = new Game(sorcerer, levelOne.castle);\n\n\t// Event Listeners for Buttons\n\tstartGameButton.addEventListener(\"click\", () => {\n\t\tcloseAllModals(allModals);\n\t\tgameStarted = true;\n\t\tanimate();\n\t})\n\n\tlosingButton.addEventListener(\"click\", () => {\n\t\trestartGame();\n\t})\n\n\treplayButton.addEventListener(\"click\", () => {\n\t\trestartGame();\n\t})\n\t\n\t// Display Initial Start Modal On Game Start\n\tstartingModal.style.display = \"flex\";\n\n\t// Helper Functions\n\tfunction closeAllModals(modals) {\n\t\tfor (let i = 0; i < modals.length; i++) {\n\t\t\tmodals[i].style.display = \"none\";\n\t\t}\n\t}\n\n\tfunction restartGame() {\n\t\tlevelOne = new LevelOne();\n\t\tsorcerer = new Sorcerer({x: 180, y: 280});\n\t\tgame = new Game(sorcerer, levelOne.castle);\n\t\tcloseAllModals(allModals);\n\t\tgameStarted = true;\n\t\tanimate();\n\t}\n\n\t// Main Animate Function \n\tfunction animate() { \n\t\tif (gameStarted) {\n\t\t\t// If the game.animate() ever returns true, the game is over. \n\t\t\tconst gameFlag = game.animate(ctx);\n\t\t\tif (gameFlag) {\n\t\t\t\tgameStarted = false;\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t\t// Repeats the method inside it 60 times per second. \n\t\trequestAnimationFrame(animate);\n\t}\n})\n\n\n\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","HealthBar","constructor","options","this","position","value","maxHealth","backgroundColor","innerSize","textPosition","draw","ctx","beginPath","rect","x","y","fillStyle","strokeStyle","stroke","fill","font","fillText","decrease","sorcererRightIdle","Image","src","sorcererLeftIdle","sorcererRunRight","sorcererRunLeft","sorcererJump","leftSorcererJump","sorcererCast","explosionOne","sorcererDeath","SORCERER_WIDTH","SORCERER_HEIGHT","leftFrames","deathAnimationCount","frame","gameFrame","frameSize","oneLoopFrame","castLoopCounter","deathLoopCounter","explosionLoopCounter","Sorcerer","health","status","direction","leftMovementStopped","rightMovementStopped","velocity","hitbox","width","height","healthBar","hitboxDims","topLeft","topRight","bottomLeft","bottomRight","currentAnimation","alive","dead","facingRight","facingLeft","idle","moving","jumping","casting","death","oneCast","explosion","Math","floor","drawImage","update","updateHitBox","moveRight","resetCastingCounters","moveLeft","jump","idleCheck","setInterval","clearInterval","cast","image","animationCount","currentframe","animationFrame","rightPositions","leftPositions","FireArrow","totalAnimationFrames","recentlyHit","outsideCanvas","currentDirection","move","outsideCanvasCheck","drawRightArrow","drawLeftArrow","animate","reset","generateRandomNumber","ifHit","setTimeout","max","min","random","lineWidth","moveTo","lineTo","CANVAS_WIDTH","CANVAS_HEIGHT","Camera","randomShootingPosition","choices","xPosition","yPosition","arrowDirection","length","dir","vec","norm","Util","scale","dist","pos1","pos2","sqrt","pow","randomVec","deg","PI","sin","cos","LevelIndicator","level","castleImg","Castle","healthbar","drawHealthBar","levelArrows","castle","generateArrows","i","push","losingModal","document","getElementById","backgroundImage","object","imageSrc","acceptableKeys","d","pressed","a","space","c","Game","sorcerer","gameStarted","levelStarted","inGameArrows","lastFiredRightArrowIndex","lastFiredLeftArrowIndex","currentLevelNumber","newlyGeneratedArrows","endGame","levelThreeSecondWaveSpawned","levelTreeThirdWaveSpawned","cLocked","playerDied","camera","levelIndicator","LevelOne","window","addEventListener","e","lockC","target","body","preventDefault","isGameOver","console","log","save","restore","drawLevelIndicator","drawCastleSorcererAndHealthBars","beginCurrentLevel","checkIdleStatus","isCollided","beatLevel","isVictory","playLevelOne","playLevelTwo","playLevelThree","currentArrow","allPossibleArrows","clearLevelArrows","shift","splice","outSideCanvas","deathCheck","sorcererHitBox","arrowPosX","arrowPosY","stopArrowInGameArrowDamage","utilities","stopNewlyGeneratedArrowDamage","isOutOfBounds","pos","xPos","yPos","slice","ending","style","display","clearTimeout","winningModal","wonGame","resetForNewLevel","levelTwoModal","startLevelTwo","levelThreeModal","startLevelThree","cLock","unlockC","values","every","canvas","getContext","fillRect","allModals","getElementsByClassName","startingModal","startGameButton","replayButton","losingButton","closeAllModals","levelOne","game","modals","restartGame","requestAnimationFrame"],"sourceRoot":""}